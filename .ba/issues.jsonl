{"id":"y1-0gdc","title":"Hardcoded JSON missing AuditStats fields","description":"PR feedback: main.rs:393-395 hardcoded JSON omits start_date and end_date fields. When AuditResult is serialized these fields are included as null. Either use serde serialization or add missing fields to match struct shape.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-17T22:34:30.127027Z","updated_at":"2025-12-17T22:36:36.456648Z","closed_at":"2025-12-17T22:36:36.456648Z","blocks":[],"blocked_by":[]}
{"id":"y1-0m63","title":"Add OH detection and configuration","description":"Why: sg must gracefully detect OH availability. Done when: checks OH_API_URL + OH_API_KEY env vars, optional config.yaml support, skips integration when unavailable.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T10:57:44.995801Z","updated_at":"2025-12-21T11:04:07.571848Z","closed_at":"2025-12-21T11:04:07.571848Z","blocks":["y1-fe9f"],"blocked_by":["y1-dls1"]}
{"id":"y1-0q48","title":"Move carryover context magic numbers to config","description":"Extract hardcoded values to config.yaml: decision count (2), window minutes (5). Currently in evaluate.rs.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-23T11:10:24.783946Z","updated_at":"2025-12-23T11:21:26.613545Z","closed_at":"2025-12-23T11:21:26.613545Z","blocks":[],"blocked_by":[]}
{"id":"y1-16dc","title":"Remove evaluate-bd (redundant)","description":"Why: evaluate-bd is redundant - check directly queries bd, rich feedback comes from evaluate-llm with bd context. Done when: evaluate-bd function and command removed, Stop hook calls evaluate-llm, task 90t closed as obsolete.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:09:10.549160Z","updated_at":"2025-12-11T21:45:32.167282Z","closed_at":"2025-12-11T21:45:32.167282Z","blocks":[],"blocked_by":["y1-4qo8"]}
{"id":"y1-1ebz","title":"Remove pre-tool-use hook (hard gating)","description":"Why: Hard gating doesn't align with feedback-first philosophy. Done when: hook, sg check command, and tools.rs removed.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:26:52.565045Z","updated_at":"2025-12-11T21:27:03.337487Z","closed_at":"2025-12-11T21:27:03.337487Z","blocks":[],"blocked_by":[]}
{"id":"y1-1jn6","title":"sg audit needs progress indicator","description":"The audit command looks like it hanged because there's no output while Claude is analyzing. Add a progress indicator or status message like 'Analyzing N decisions...' before the LLM call.","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-17T22:38:53.053336Z","updated_at":"2025-12-17T22:50:03.521078Z","closed_at":"2025-12-17T22:50:03.521078Z","blocks":[],"blocked_by":[]}
{"id":"y1-2bac","title":"Optimize double transcript read in evaluate.rs","description":"Transcript is read twice: once for main context, once for carryover. Refactor to read once and reuse.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-23T11:10:50.966002Z","updated_at":"2025-12-23T11:33:21.197972Z","closed_at":"2025-12-23T11:33:21.197972Z","blocks":[],"blocked_by":[]}
{"id":"y1-2gad","title":"Document Claude behavioral contract","description":"Why: Claude needs clear instructions on how to behave when blocked. Done when: Markdown doc specifies: surface conflicts to user, present options, call acknowledge/override appropriately.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:47:57.248247Z","updated_at":"2025-12-12T20:44:50.328166Z","closed_at":"2025-12-12T20:44:50.328166Z","blocks":[],"blocked_by":[]}
{"id":"y1-2oa2","title":"Remove tool result truncation","description":"Why: User requested full tool results. Done when: truncation removed.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-17T00:26:26.027765Z","updated_at":"2025-12-17T00:26:42.923975Z","closed_at":"2025-12-17T00:26:42.923975Z","blocks":[],"blocked_by":[]}
{"id":"y1-2u2b","title":"Remove or improve test_stdout_empty_without_pipe test","description":"PR nitpick: Test in claude.rs:184-199 documents the bug but doesn't actually verify the problematic behavior. Consider removing and keeping only code comment, or making it assert something meaningful.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-17T22:34:45.239169Z","updated_at":"2025-12-17T22:39:59.411631Z","closed_at":"2025-12-17T22:39:59.411631Z","blocks":[],"blocked_by":[]}
{"id":"y1-360u","title":"Add retro curated mode (LLM)","description":"Why: LLM-curated key moments for demos. Done when: --curated flag triggers LLM to pick key moments with summaries (no fixed limit).","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T00:01:57.437805Z","updated_at":"2025-12-24T00:18:41.631047Z","closed_at":"2025-12-24T00:18:41.631047Z","blocks":[],"blocked_by":["y1-tyzq"]}
{"id":"y1-38l0","title":"Wire up interval-based eval in PreToolUse hook","description":"Why: Catch conversation drift during long sessions without large edits. Done when: PreToolUse checks sg needs-eval after size check, triggers eval if interval passed.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-22T13:24:03.900727Z","updated_at":"2025-12-22T13:34:14.713874Z","closed_at":"2025-12-22T13:34:14.713874Z","blocks":[],"blocked_by":[]}
{"id":"y1-3daz","title":"Phase 4: Hook updates","description":"Why: Thin client model. Done when: Hooks call CLI commands, no synchronous eval.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T21:19:26.846109Z","updated_at":"2025-12-16T22:28:00.024500Z","closed_at":"2025-12-16T22:28:00.024500Z","blocks":["y1-n0j8"],"blocked_by":["y1-ldim"]}
{"id":"y1-3ibi","title":"Handle unexpected Claude CLI JSON response formats","description":"Why: Error 'invalid type: map, expected a string at line 1 column 1' suggests Claude CLI returns different JSON in some cases. Done when: sg gracefully handles variant response formats or provides useful error messages.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-30T18:51:31.107159Z","updated_at":"2025-12-30T21:31:49.877132Z","closed_at":"2025-12-30T21:31:49.877132Z","blocks":[],"blocked_by":[]}
{"id":"y1-3m3z","title":"Daemon: CLI commands (start/stop/status)","description":"Why: User control over daemon. Done when: sg daemon start/stop/status work, daemon runs detached with pidfile.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T12:57:27.734702Z","updated_at":"2025-12-22T13:01:00.023048Z","closed_at":"2025-12-22T13:01:00.023048Z","blocks":["y1-49ew"],"blocked_by":[]}
{"id":"y1-49ew","title":"Implement daemon mode for async evaluation","description":"Why: Stop hook blocking latency (10-30s) hurts UX. Done when: sg daemon runs in background, evaluates proactively, hooks consume pre-computed feedback instantly.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-22T12:56:52.923047Z","updated_at":"2025-12-22T13:01:09.645969Z","closed_at":"2025-12-22T13:01:09.645969Z","blocks":[],"blocked_by":["y1-e41q","y1-80gr","y1-le1b","y1-3m3z","y1-ks6k"]}
{"id":"y1-4hrj","title":"Clean up unused transcript functions","description":"Why: get_user_messages, extract_session_id, get_last_user_message etc unused. Done when: Dead functions removed or marked pub(crate) if internal.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:05:59.924359Z","updated_at":"2025-12-11T21:30:53.741044Z","closed_at":"2025-12-11T21:30:53.741044Z","blocks":[],"blocked_by":[]}
{"id":"y1-4qo8","title":"Enhance superego prompt with bd context","description":"Why: LLM should know current bd task(s) to evaluate alignment. Done when: Prompt includes current task title/description, LLM can flag scope drift, feedback references task context. evaluate-llm passes bd state to prompt.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-11T21:07:59.272262Z","updated_at":"2025-12-11T21:42:40.978224Z","closed_at":"2025-12-11T21:42:40.978224Z","blocks":["y1-16dc"],"blocked_by":[]}
{"id":"y1-538q","title":"General dead code cleanup","description":"Why: Various unused fields/functions across modules (see cargo build warnings). Done when: All unused warnings resolved or explicitly allowed.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:06:05.073719Z","updated_at":"2025-12-11T21:35:21.694449Z","closed_at":"2025-12-11T21:35:21.694449Z","blocks":[],"blocked_by":[]}
{"id":"y1-56ew","title":"Add periodic time-based eval to PreToolUse","description":"Why: Death by a thousand cuts - many small changes drift undetected. Done when: sg should-eval command exists, pre-tool-use.sh triggers eval if >N minutes since last eval.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-16T23:31:57.070228Z","updated_at":"2025-12-16T23:34:47.564059Z","closed_at":"2025-12-16T23:34:47.564059Z","blocks":[],"blocked_by":[]}
{"id":"y1-64ms","title":"Create PreToolUse hook script","description":"Why: Gate Claude actions via hook. Done when: Hook reads stdin JSON, calls sg check, returns permissionDecision deny/allow with reason.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:47:34.398443Z","updated_at":"2025-12-11T20:06:48.237520Z","closed_at":"2025-12-11T20:06:48.237520Z","blocks":["y1-ge7g"],"blocked_by":["y1-66fd","y1-fvwu"]}
{"id":"y1-66fd","title":"Implement sg check command","description":"Why: Fast gate for write tools. Done when: Reads .superego/state.json (cached phase), returns allow/block based on phase vs tool type. NO LLM call - just reads cached state from evaluate.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:26.701874Z","updated_at":"2025-12-11T18:24:46.901462Z","closed_at":"2025-12-11T18:24:46.901462Z","blocks":["y1-d4dq","y1-64ms"],"blocked_by":["y1-m58y","y1-fvwu"]}
{"id":"y1-6add","title":"Add test for transcript_read_at race condition fix","description":"Why: AIDEV-NOTE explains the design but no test demonstrates it. Done when: Test verifies messages written during eval are caught by next eval.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T13:45:47.303503Z","updated_at":"2025-12-22T15:16:34.001638Z","closed_at":"2025-12-22T15:16:34.001638Z","blocks":[],"blocked_by":[]}
{"id":"y1-6mnt","title":"Remove dead JSON parsing from claude.rs","description":"Why: extract_json, parse_evaluation, SuperegoEvaluation unused since we use natural language feedback. Done when: Dead code removed, module simplified.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:05:54.770587Z","updated_at":"2025-12-11T21:29:20.391704Z","closed_at":"2025-12-11T21:29:20.391704Z","blocks":[],"blocked_by":[]}
{"id":"y1-6qlp","title":"Create UserPromptSubmit hook","description":"Why: Trigger phase evaluation on every user message. Done when: Hook calls sg evaluate with transcript path, runs before Claude responds.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:08:56.264172Z","updated_at":"2025-12-11T20:06:53.378963Z","closed_at":"2025-12-11T20:06:53.378963Z","blocks":["y1-ge7g"],"blocked_by":["y1-t62e"]}
{"id":"y1-7fmo","title":"Finalize packaging after GitHub repo creation","description":"Why: Packaging has placeholder URLs. Done when: (1) Update Cargo.toml repository URL, (2) Update Formula/sg.rb homepage/url/sha256, (3) Create homebrew-higher-peak tap repo, (4) Publish to crates.io if desired.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-12T14:58:47.707414Z","updated_at":"2025-12-12T20:44:18.951214Z","closed_at":"2025-12-12T20:44:18.951214Z","blocks":[],"blocked_by":[]}
{"id":"y1-7mmj","title":"Implement sg init command","description":"Why: Users need to initialize .superego/ in their project. Done when: Creates .superego/ dir, writes default prompt.md (from embedded default), empty state.json (phase: exploring), decisions/ folder, config.yaml with defaults.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:23:04.477281Z","updated_at":"2025-12-11T18:27:50.487336Z","closed_at":"2025-12-11T18:27:50.487336Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-80gr","title":"Daemon: poll loop with transcript watching","description":"Why: Core daemon behavior. Done when: Daemon runs in background, detects transcript changes, triggers evaluation before Stop hook fires.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T12:57:17.155286Z","updated_at":"2025-12-22T13:01:00.022230Z","closed_at":"2025-12-22T13:01:00.022230Z","blocks":["y1-49ew"],"blocked_by":["y1-e41q"]}
{"id":"y1-85ov","title":"Create SessionStart hook for context injection","description":"Why: Inject superego behavioral contract into Claude's context. Done when: Hook returns additionalContext with obligations, resumed session shows decision summary.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:47:44.975752Z","updated_at":"2025-12-12T20:45:06.577986Z","closed_at":"2025-12-12T20:45:06.577986Z","blocks":["y1-ge7g"],"blocked_by":["y1-nlge","y1-m5ne"]}
{"id":"y1-8b8k","title":"Add stale lock detection to pre-tool-use.sh","description":"Why: If process crashes while holding lock, subsequent evals blocked until manual intervention. Done when: Lock file age checked and stale locks (>5 min) auto-removed.","status":"open","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T13:45:36.633294Z","updated_at":"2025-12-22T13:45:36.633294Z","blocks":[],"blocked_by":[]}
{"id":"y1-96ck","title":"Improve transcript context for superego","description":"Why: Superego was missing context. Done when: summary, thinking, and tool results included in evaluation.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-17T00:21:58.274671Z","updated_at":"2025-12-17T00:23:28.372354Z","closed_at":"2025-12-17T00:23:28.372354Z","blocks":[],"blocked_by":[]}
{"id":"y1-9aid","title":"Implement bd-based phase detection","description":"Why: Observable phase via bd state, not LLM guessing. Done when: No in_progress tasks = read-only, tasks in_progress = check alignment, task creation requires confirmation. Phase from workflow artifacts not conversation analysis.","status":"closed","priority":0,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-11T20:28:43.806154Z","updated_at":"2025-12-11T20:38:31.477404Z","closed_at":"2025-12-11T20:38:31.477404Z","blocks":[],"blocked_by":[]}
{"id":"y1-9m1r","title":"Refocus superego prompt on strategic alignment","description":"Rewrite prompt.md with new structure: Intent Clarity Gate (X-Y problem), Five Checks (Necessary, Beyond Nearest Peak, Sufficient, Fits Goal, Open Horizons), Supporting Checks, Evidence-based Method. Removes procedural/tactical noise.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-12T20:39:44.594766Z","updated_at":"2025-12-12T20:40:37.784365Z","closed_at":"2025-12-12T20:40:37.784365Z","blocks":[],"blocked_by":[]}
{"id":"y1-a3z5","title":"Handle cold start (first evaluation)","description":"Why: First sg evaluate has no prior context. Done when: Detects missing state.json, primes superego with project summary from decision journal, defaults to EXPLORING phase.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:15:47.219Z","updated_at":"2025-12-11T18:35:51.677725Z","closed_at":"2025-12-11T18:35:51.677725Z","blocks":["y1-t62e"],"blocked_by":["y1-yhfk"]}
{"id":"y1-aood","title":"Use consistent SUPEREGO_DISABLED default in all hooks","description":"Why: session-start.sh uses ${SUPEREGO_DISABLED:-} but evaluate.sh and pre-tool-use.sh use $SUPEREGO_DISABLED which would fail with set -u. Done when: All scripts use ${SUPEREGO_DISABLED:-} pattern.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-30T19:33:30.566763Z","updated_at":"2025-12-30T19:36:33.007514Z","closed_at":"2025-12-30T19:36:33.007514Z","blocks":[],"blocked_by":[]}
{"id":"y1-aqoz","title":"YAML migration script needs safety improvements","description":"PR feedback: Script in CLAUDE.md has issues: (1) unquoted variables in JSON output, (2) no error handling, (3) no validation of generated JSON, (4) destructive without backups. Add: backup warning, set -e, JSON validation before writing.","status":"closed","priority":2,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-17T22:34:19.530400Z","updated_at":"2025-12-17T22:38:36.602240Z","closed_at":"2025-12-17T22:38:36.602240Z","blocks":[],"blocked_by":[]}
{"id":"y1-b391","title":"Implement state evaluation heuristics","description":"Why: Optional fast-path before LLM call. Done when: Quick checks (action count, explicit 'wait' phrases) can skip LLM call when clearly fine. OPTIONAL - LLM handles this if not implemented.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:47:25.787841Z","updated_at":"2025-12-12T20:45:37.886820Z","closed_at":"2025-12-12T20:45:37.886820Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-b422","title":"Implement transcript JSONL reader","description":"Why: Superego needs to read Claude Code conversation history. Done when: Can parse transcript_path JSONL, extract messages with roles/content.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:10.227196Z","updated_at":"2025-12-11T18:17:05.652150Z","closed_at":"2025-12-11T18:17:05.652150Z","blocks":["y1-gtng","y1-t62e"],"blocked_by":["y1-yhfk"]}
{"id":"y1-bl7t","title":"Wire --push-oh flag in main.rs and retro.rs","description":"Why: User-facing flag. Done when: sg retro --push-oh calls OH after generating HTML.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-24T09:19:50.229089Z","updated_at":"2025-12-24T09:42:21.983878Z","closed_at":"2025-12-24T09:42:21.983878Z","blocks":["y1-viso"],"blocked_by":[]}
{"id":"y1-c9eb","title":"Remove dead println in should-eval command","description":"Why: println yes/no is now dead code since shell uses exit codes only. Done when: Either removed or documented as kept for manual debugging.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T13:46:06.453394Z","updated_at":"2025-12-22T14:20:22.764050Z","closed_at":"2025-12-22T14:20:22.764050Z","blocks":[],"blocked_by":[]}
{"id":"y1-cb59","title":"Implement detailed audit trail logging","description":"Why: Need visibility into superego decisions for debugging. Done when: Every evaluate/check/override writes to .superego/audit.log with timestamp, input, decision, reason.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:34:50.984317Z","updated_at":"2025-12-12T20:44:29.414517Z","closed_at":"2025-12-12T20:44:29.414517Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-chah","title":"Add sg retro CLI subcommand","description":"Why: Need retro visualization command. Done when: Retro subcommand added to main.rs with session, curated, output, open args.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T00:01:46.825584Z","updated_at":"2025-12-24T00:13:10.344381Z","closed_at":"2025-12-24T00:13:10.344381Z","blocks":["y1-tyzq"],"blocked_by":[]}
{"id":"y1-cmmb","title":"Fix Unicode panic in log truncation","description":"Why: Byte slicing panics on multi-byte UTF-8. Done when: Uses chars().take(200) instead of [..200].","status":"closed","priority":0,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-21T12:03:50.332037Z","updated_at":"2025-12-21T12:04:35.403507Z","closed_at":"2025-12-21T12:04:35.403507Z","blocks":[],"blocked_by":[]}
{"id":"y1-cye7","title":"Replace session resumption with explicit context carryover","description":"Superego session resumption accumulates context causing 'Prompt is too long' errors. Replace with isolated evaluations + explicit carryover: last 5 mins of previous messages + last 2 decisions.","status":"closed","priority":2,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-23T10:52:11.277896Z","updated_at":"2025-12-23T10:56:57.544931Z","closed_at":"2025-12-23T10:56:57.544931Z","blocks":[],"blocked_by":[]}
{"id":"y1-d4dq","title":"Implement override state tracking in sg check","description":"Why: sg check needs to know if override is pending. Done when: sg override sets pending_override in state.json, sg check allows one action then clears it.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:23:56.178839Z","updated_at":"2025-12-11T18:26:04.335594Z","closed_at":"2025-12-11T18:26:04.335594Z","blocks":[],"blocked_by":["y1-66fd"]}
{"id":"y1-dd0y","title":"Remove or implement stub CLI commands","description":"Why: Acknowledge, ContextInject, Disable, Enable commands output 'not yet implemented' which confuses users. Done when: Either implemented fully or removed from CLI. See main.rs:142-143, 177-178, 258-262.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-17T00:33:36.164191Z","updated_at":"2025-12-17T00:37:25.284338Z","closed_at":"2025-12-17T00:37:25.284338Z","blocks":[],"blocked_by":[]}
{"id":"y1-dhgr","title":"Extend OhClient with log_retrospective method","description":"Why: Encapsulate retro-specific log creation. Done when: oh.rs has method that POSTs formatted retro to /api/logs with metadata.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-24T09:19:45.018405Z","updated_at":"2025-12-24T09:30:08.357193Z","closed_at":"2025-12-24T09:30:08.357193Z","blocks":["y1-viso"],"blocked_by":["y1-djwr"]}
{"id":"y1-djwr","title":"Format retro as OH log payload","description":"Why: Need proper payload structure. Done when: Function creates {content: markdown, metadata: {type: superego_retrospective, moments: [...]}}.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-24T09:19:39.809229Z","updated_at":"2025-12-24T09:28:35.960274Z","closed_at":"2025-12-24T09:28:35.960274Z","blocks":["y1-viso","y1-dhgr"],"blocked_by":[]}
{"id":"y1-dls1","title":"Add OH API client module (oh.rs)","description":"Why: Need HTTP client for OH API calls. Done when: oh.rs exists with functions for get_contexts, get_endeavors, log_decision. Simple reqwest-based client with Bearer auth.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T10:57:39.752473Z","updated_at":"2025-12-21T11:03:39.180668Z","closed_at":"2025-12-21T11:03:39.180668Z","blocks":["y1-0m63","y1-hrp7"],"blocked_by":[]}
{"id":"y1-dsji","title":"Update Stop hook to trigger LLM evaluation","description":"Why: Stop hook only runs evaluate-bd, not evaluate-llm. Rich feedback won't be generated. Done when: Stop hook calls sg evaluate-llm with transcript path (need to get from env or pass through).","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:05:39.238552Z","updated_at":"2025-12-11T21:40:53.358737Z","closed_at":"2025-12-11T21:40:53.358737Z","blocks":[],"blocked_by":[]}
{"id":"y1-du4m","title":"Refactor superego to daemon architecture","description":"Why: Eliminate hook blocking latency. Done when: Daemon polls sessions, evaluates async, hooks consume pre-computed feedback instantly.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-16T21:18:58.891959Z","updated_at":"2025-12-16T22:28:24.086689Z","closed_at":"2025-12-16T22:28:24.086689Z","blocks":[],"blocked_by":[]}
{"id":"y1-e41q","title":"Daemon: session registry and discovery","description":"Why: Daemon needs to know which sessions to monitor. Done when: Can track active sessions by watching transcript directory or via hook registration.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T12:57:11.849744Z","updated_at":"2025-12-22T13:01:00.020794Z","closed_at":"2025-12-22T13:01:00.020794Z","blocks":["y1-49ew","y1-80gr"],"blocked_by":[]}
{"id":"y1-ec1d","title":"Auto-update hooks when outdated","description":"Why: Users don't know hooks need updating after upgrade. Done when: sg check command exists, SessionStart auto-updates hooks, hash-based comparison detects changes.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-17T17:04:51.251787Z","updated_at":"2025-12-17T17:07:38.177929Z","closed_at":"2025-12-17T17:07:38.177929Z","blocks":[],"blocked_by":[]}
{"id":"y1-elf5","title":"Implement sg disable/enable escape hatch","description":"Why: User needs to bypass superego if it malfunctions. Done when: sg disable sets flag, hooks check flag and skip, SUPEREGO_DISABLED env var also works.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:15:31.442812Z","updated_at":"2025-12-12T20:44:45.120325Z","closed_at":"2025-12-12T20:44:45.120325Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-eo88","title":"Add tests for get_messages_in_window()","description":"Add tests for edge cases: empty window, no matching session_id, malformed timestamps.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-23T11:10:38.809947Z","updated_at":"2025-12-23T11:24:58.026506Z","closed_at":"2025-12-23T11:24:58.026506Z","blocks":[],"blocked_by":[]}
{"id":"y1-fbhi","title":"Daemon: read transcript incrementally since last eval","description":"Why: Reading last 50 messages wastes tokens re-reading content. Done when: daemon tracks last_evaluated position and only reads new messages since then.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T23:16:41.663969Z","updated_at":"2025-12-16T23:59:00.259541Z","closed_at":"2025-12-16T23:59:00.259541Z","blocks":[],"blocked_by":[]}
{"id":"y1-fe9f","title":"Integrate OH logging into evaluate.rs","description":"Why: Connect the pieces. Done when: after local decision journal write, also logs to OH endeavor if available+matched.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T10:57:55.368156Z","updated_at":"2025-12-21T11:22:36.959166Z","closed_at":"2025-12-21T11:22:36.959166Z","blocks":["y1-r7cm"],"blocked_by":["y1-0m63","y1-hrp7"]}
{"id":"y1-feux","title":"Fix superego cross-session context bleed","description":"Why: Superego evaluated based on wrong conversation context (referenced 'centralized config' discussion from different session). Done when: evaluation only considers current session transcript, no cross-session confusion.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-16T23:40:12.753004Z","updated_at":"2025-12-16T23:58:50.466295Z","closed_at":"2025-12-16T23:58:50.466295Z","blocks":[],"blocked_by":[]}
{"id":"y1-fvwu","title":"Implement tool classification (read vs write)","description":"Why: Only gate write tools, skip reads for speed. Done when: Classifies tools as read (Glob,Grep,Read,LS,WebFetch,WebSearch) or write (Edit,Write,Bash,Task,NotebookEdit). PreToolUse hook uses this to skip checks on reads.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:09:04.632425Z","updated_at":"2025-12-11T18:20:13.441175Z","closed_at":"2025-12-11T18:20:13.441175Z","blocks":["y1-64ms","y1-66fd"],"blocked_by":["y1-yhfk"]}
{"id":"y1-ge7g","title":"End-to-end integration test","description":"Why: Verify full flow works. Done when: Test covers: hook blocks action → Claude surfaces conflict → user overrides → hook allows retry.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:48:10.741668Z","updated_at":"2025-12-12T20:45:32.662940Z","closed_at":"2025-12-12T20:45:32.662940Z","blocks":[],"blocked_by":["y1-64ms","y1-85ov","y1-6qlp"]}
{"id":"y1-gr2v","title":"Document is_available() in oh.rs","description":"Why: Method exists but is never called (dead code). Done when: AIDEV-NOTE explains it's for future use/debugging, or method is removed.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T11:33:44.104641Z","updated_at":"2025-12-21T12:29:51.124925Z","closed_at":"2025-12-21T12:29:51.124925Z","blocks":[],"blocked_by":[]}
{"id":"y1-gtng","title":"Define context window strategy for LLM evaluation","description":"Why: Need to decide how much transcript to send to superego LLM. Done when: Strategy documented and implemented - options: last N messages, last N tokens, summary + recent, sliding window.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:16:13.526379Z","updated_at":"2025-12-11T21:54:38.201873Z","closed_at":"2025-12-11T21:54:38.201873Z","blocks":[],"blocked_by":["y1-b422"]}
{"id":"y1-hrp7","title":"Add LLM-based endeavor matching","description":"Why: Generative discovery of which endeavor relates to current work. Done when: given repo context and endeavor list, LLM picks best match or suggests none.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T10:57:50.173150Z","updated_at":"2025-12-21T11:13:17.833449Z","closed_at":"2025-12-21T11:13:17.833449Z","blocks":["y1-fe9f"],"blocked_by":["y1-dls1"]}
{"id":"y1-ht31","title":"Simplify Feedback module - remove Severity","description":"Why: Severity enum has unused Block/Info variants, only Warning used. No blocking anymore. Done when: Severity removed, Feedback is just message+context, tests updated.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T21:05:49.595552Z","updated_at":"2025-12-11T21:28:24.146440Z","closed_at":"2025-12-11T21:28:24.146440Z","blocks":[],"blocked_by":[]}
{"id":"y1-hu1v","title":"OH: Visualize superego retrospectives","description":"Why: Native OH view of retrospective data. Done when: OH can render retrospectives from logs where metadata.type = superego_retrospective. P3 - future work after push integration works.","status":"open","priority":3,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T09:21:29.158964Z","updated_at":"2025-12-24T09:21:29.158964Z","blocks":[],"blocked_by":[]}
{"id":"y1-hz9u","title":"Implement sg acknowledge command","description":"Why: Claude calls this to accept feedback and clear the queue. Done when: Writes feedback_accepted decision, clears pending state.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:45.676276Z","updated_at":"2025-12-12T20:45:22.168121Z","closed_at":"2025-12-12T20:45:22.168121Z","blocks":[],"blocked_by":["y1-m58y"]}
{"id":"y1-i2ux","title":"Add timeout to get_contexts()","description":"Why: Can hang indefinitely if OH server unresponsive. Done when: 5s timeout added.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T12:03:55.618924Z","updated_at":"2025-12-21T12:05:28.081962Z","closed_at":"2025-12-21T12:05:28.081962Z","blocks":[],"blocked_by":[]}
{"id":"y1-idkv","title":"Add superego self-audit capability","description":"Why: Quis custodiet ipsos custodes - we need confidence that superego's evaluations are sound. Done when: mechanism exists to audit/review superego's own decisions, catch drift in evaluation quality, and flag suspicious patterns in its own behavior.","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-16T23:38:38.892379Z","updated_at":"2025-12-17T22:46:03.191262Z","closed_at":"2025-12-17T22:46:03.191262Z","blocks":[],"blocked_by":[]}
{"id":"y1-io46","title":"Add timeout to get_endeavors()","description":"Why: Can hang indefinitely if OH server unresponsive. Done when: 5s timeout added.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T12:04:00.917851Z","updated_at":"2025-12-21T12:05:28.084701Z","closed_at":"2025-12-21T12:05:28.084701Z","blocks":[],"blocked_by":[]}
{"id":"y1-jamt","title":"Define override scope and duration","description":"Why: When user overrides, unclear how long it lasts. Done when: Decided and implemented - options: single action, rest of session, until phase changes. Probably: override allows one blocked action, then re-evaluates.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:16:28.962909Z","updated_at":"2025-12-11T17:18:56.131616Z","closed_at":"2025-12-11T17:18:56.131616Z","blocks":["y1-nnfm"],"blocked_by":[]}
{"id":"y1-jge3","title":"Implement Claude CLI invocation from Rust","description":"Why: Core evaluation engine - call claude CLI with context. Done when: Can invoke claude CLI, pass system prompt + user message, parse JSON response (handle prose around JSON robustly), handle errors/timeouts. NOTE: Verify correct CLI flags, may need adaptation.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:56:34.307856Z","updated_at":"2025-12-11T18:30:06.806934Z","closed_at":"2025-12-11T18:30:06.806934Z","blocks":["y1-yps7","y1-t62e"],"blocked_by":["y1-yhfk"]}
{"id":"y1-jvem","title":"Fix: last_evaluated should use transcript timestamp, not Utc::now()","description":"Why: Messages written during LLM eval get skipped because last_evaluated is set to completion time, not read time. Done when: last_evaluated records max timestamp from evaluated messages, not Utc::now().","status":"closed","priority":0,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-22T13:09:29.542973Z","updated_at":"2025-12-22T13:12:58.694777Z","closed_at":"2025-12-22T13:12:58.694777Z","blocks":[],"blocked_by":[]}
{"id":"y1-jwvs","title":"Remove dead base decisions support","description":"Why: Base decisions dir is never written to - dead code. Done when: read_all_sessions only scans session dirs.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-18T14:00:46.245255Z","updated_at":"2025-12-18T14:04:09.584406Z","closed_at":"2025-12-18T14:04:09.584406Z","blocks":[],"blocked_by":[]}
{"id":"y1-jyxb","title":"Phase 1: Database layer (SQLite schema)","description":"Why: Foundation for daemon state. Done when: rusqlite added, sessions/feedback tables, CRUD ops work.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T21:19:11.396762Z","updated_at":"2025-12-16T21:22:14.305220Z","closed_at":"2025-12-16T21:22:14.305220Z","blocks":["y1-ldim","y1-wvq9"],"blocked_by":[]}
{"id":"y1-kg0w","title":"Move prompt.md to plugin directory","description":"Why: Prompt updates should flow to users without binary/plugin updates. Done when: session-start.sh fetches prompt from GitHub and stores in .superego/prompt.md","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-18T22:56:19.109725Z","updated_at":"2025-12-18T23:08:31.448158Z","closed_at":"2025-12-18T23:08:31.448158Z","blocks":[],"blocked_by":[]}
{"id":"y1-khvb","title":"Remove Phase enum and state machine","description":"Why: Phase (Exploring/Discussing/Ready) was for LLM-based conversation analysis. Now using bd state directly. Done when: Phase enum removed, state.rs simplified, decision.rs cleaned up, check uses bd state directly.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T20:41:37.591176Z","updated_at":"2025-12-11T21:03:53.574197Z","closed_at":"2025-12-11T21:03:53.574197Z","blocks":["y1-y2i2"],"blocked_by":[]}
{"id":"y1-kki8","title":"Implement superego session management","description":"Why: Persist superego's own context across checks. Done when: Session stored in .superego/session/, --continue flag used to maintain context, session survives across main Claude sessions.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:56:47.313652Z","updated_at":"2025-12-11T18:35:56.839493Z","closed_at":"2025-12-11T18:35:56.839493Z","blocks":["y1-t62e"],"blocked_by":["y1-yhfk"]}
{"id":"y1-ks6k","title":"Hook: consume cached feedback in Stop hook","description":"Why: Instant feedback delivery. Done when: Stop hook checks cache first, only runs sg evaluate-llm as fallback.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T12:57:33.021481Z","updated_at":"2025-12-22T13:01:00.024814Z","closed_at":"2025-12-22T13:01:00.024814Z","blocks":["y1-49ew"],"blocked_by":["y1-le1b"]}
{"id":"y1-lbux","title":"Consider atomic state file writes","description":"Why: If process crashes mid-write, state.json could be corrupted. Done when: Uses write-to-temp-then-rename pattern, or documented as acceptable risk.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T13:45:52.642845Z","updated_at":"2025-12-22T14:31:45.822764Z","closed_at":"2025-12-22T14:31:45.822764Z","blocks":[],"blocked_by":[]}
{"id":"y1-ldim","title":"Phase 3: CLI commands","description":"Why: Hook/daemon interface. Done when: register, heartbeat, feedback, daemon start/stop/status commands work.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T21:19:21.687494Z","updated_at":"2025-12-16T22:25:13.398945Z","closed_at":"2025-12-16T22:25:13.398945Z","blocks":["y1-3daz"],"blocked_by":["y1-jyxb","y1-wvq9"]}
{"id":"y1-le1b","title":"Daemon: feedback cache layer","description":"Why: Store pre-computed feedback. Done when: Evaluated feedback is cached per-session, hooks can read instantly without re-evaluating.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T12:57:22.407981Z","updated_at":"2025-12-22T13:01:00.022642Z","closed_at":"2025-12-22T13:01:00.022642Z","blocks":["y1-ks6k","y1-49ew"],"blocked_by":[]}
{"id":"y1-m58y","title":"Implement decision journal (read/write YAML)","description":"Why: Persist decisions for context recovery and audit trail. Done when: Can write decision records to .superego/decisions/, read them back, session_id in records not paths.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:18.514268Z","updated_at":"2025-12-11T18:22:24.524812Z","closed_at":"2025-12-11T18:22:24.524812Z","blocks":["y1-nnfm","y1-nlge","y1-66fd","y1-hz9u"],"blocked_by":["y1-yhfk"]}
{"id":"y1-m5ne","title":"Implement sg context-inject command","description":"Why: SessionStart hook needs to inject superego context into Claude. Done when: Outputs behavioral contract + recent decisions summary as additionalContext for Claude.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:23:20.258193Z","updated_at":"2025-12-12T20:44:39.895310Z","closed_at":"2025-12-12T20:44:39.895310Z","blocks":["y1-85ov"],"blocked_by":["y1-yhfk","y1-nlge"]}
{"id":"y1-mlsy","title":"Fix Windows platform detection in session-start.sh","description":"Why: Pattern matching with [ \"$os\" = \"MINGW64_NT\"* ] doesn't work - the * is literal. Done when: Use case statement for proper glob matching.","status":"closed","priority":0,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-30T19:31:25.641346Z","updated_at":"2025-12-30T19:36:22.650340Z","closed_at":"2025-12-30T19:36:22.650340Z","blocks":[],"blocked_by":[]}
{"id":"y1-n0j8","title":"Phase 5: Migration","description":"Why: Existing users. Done when: sg migrate converts old state to daemon model.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T21:19:32.006827Z","updated_at":"2025-12-17T22:46:03.193954Z","closed_at":"2025-12-17T22:46:03.193954Z","blocks":[],"blocked_by":["y1-3daz"]}
{"id":"y1-nbzz","title":"Fix race condition in binary download temp file","description":"Why: Using $sg_bin.tmp allows concurrent sessions to corrupt the download. Done when: Temp file uses unique per-process name ($sg_bin.tmp.$$).","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-30T19:33:11.226700Z","updated_at":"2025-12-30T19:36:27.815643Z","closed_at":"2025-12-30T19:36:27.815643Z","blocks":[],"blocked_by":[]}
{"id":"y1-nkqh","title":"Add timeout to log_decision()","description":"Why: In hook path - can block Claude Code if OH hangs. Done when: 5s timeout added.","status":"closed","priority":0,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T12:04:06.206579Z","updated_at":"2025-12-21T12:05:28.085151Z","closed_at":"2025-12-21T12:05:28.085151Z","blocks":[],"blocked_by":[]}
{"id":"y1-nlge","title":"Implement sg history command","description":"Why: Context recovery - Claude can query past decisions. Done when: Reads .superego/decisions/*, returns chronological list with optional limit.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:47:02.982551Z","updated_at":"2025-12-12T20:45:11.732064Z","closed_at":"2025-12-12T20:45:11.732064Z","blocks":["y1-m5ne","y1-85ov"],"blocked_by":["y1-m58y"]}
{"id":"y1-nnfm","title":"Implement sg override command","description":"Why: Claude calls this after user approves override. Done when: Writes override_granted decision with reason, allows blocked action to proceed.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:54.160258Z","updated_at":"2025-12-12T20:45:16.960087Z","closed_at":"2025-12-12T20:45:16.960087Z","blocks":[],"blocked_by":["y1-m58y","y1-jamt"]}
{"id":"y1-nu26","title":"Investigate session_id extraction from transcript path","description":"Why: Need to know where session_id comes from for decision records. Done when: Documented how to extract session_id (from filename? hook input?), implemented in CLI.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:34:37.502436Z","updated_at":"2025-12-11T21:55:41.928837Z","closed_at":"2025-12-11T21:55:41.928837Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-o72g","title":"Verify Claude CLI invocation syntax","description":"Why: Need correct flags for non-interactive Claude calls. Done when: Tested claude --print (or correct flag), documented in ARCHITECTURE.md, handles session continuation.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:35:00.923189Z","updated_at":"2025-12-11T18:30:11.960260Z","closed_at":"2025-12-11T18:30:11.960260Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-oii8","title":"Add Claude reaction tracking to sg retro curated mode","description":"Why: Users want to see if Claude accepted/rejected superego feedback. Done when: Curated mode shows acceptance indicator and brief reaction reasoning for each moment.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T00:42:50.439185Z","updated_at":"2025-12-24T00:52:06.912601Z","closed_at":"2025-12-24T00:52:06.912601Z","blocks":[],"blocked_by":[]}
{"id":"y1-oqx2","title":"Update LLM evaluation for natural language feedback","description":"Why: New prompt outputs rich natural language, not JSON. Done when: evaluate command calls LLM, gets natural language response, writes to feedback queue. No JSON parsing, no phase extraction.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T20:53:45.409809Z","updated_at":"2025-12-11T20:57:12.594917Z","closed_at":"2025-12-11T20:57:12.594917Z","blocks":["y1-y2i2"],"blocked_by":[]}
{"id":"y1-oyos","title":"Support nested .superego/ discovery (future)","description":"Why: User might have project/.superego/ and project/subdir/.superego/. Future: Implement discovery logic like beads does - walk up to find nearest .superego/.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:36:00.391634Z","updated_at":"2025-12-12T20:45:43.110645Z","closed_at":"2025-12-12T20:45:43.110645Z","blocks":[],"blocked_by":[]}
{"id":"y1-p6kv","title":"Plugin: Add sg installation guidance or auto-install","description":"Why: Users installing via plugin don't have sg binary available. Done when: Plugin either installs sg or provides clear installation instructions. Notes: Homebrew colleague hit this - init didn't install cargo/sg.","status":"open","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-30T18:51:16.501789Z","updated_at":"2025-12-30T18:51:16.501789Z","blocks":[],"blocked_by":[]}
{"id":"y1-q2a8","title":"Remove vestigial SEVERITY/blocking logic from hooks","description":"Why: No more hard gates, just feedback injection. Done when: user-prompt-submit.sh removes SEVERITY checks, always injects feedback as context, no exit 2 blocking.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T20:53:50.560490Z","updated_at":"2025-12-11T20:58:09.004389Z","closed_at":"2025-12-11T20:58:09.004389Z","blocks":["y1-y2i2"],"blocked_by":[]}
{"id":"y1-q9zc","title":"Setup cargo packaging and installation","description":"Why: Users need to install sg CLI. Done when: cargo install works, Cargo.toml has proper metadata, README has install instructions.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:24:11.296693Z","updated_at":"2025-12-12T14:38:08.417295Z","closed_at":"2025-12-12T14:38:08.417295Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-qcf8","title":"Explore using bd for superego phase tracking","description":"Why: bd already has issues, status tracking, and git sync. Could model phases as issue states or use bd's infrastructure instead of custom YAML/JSON. Done when: Documented pros/cons of bd-backed vs custom state, decision made on whether to pivot. Consider: phase as issue status, decisions as issue comments, session context as issue description.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T18:33:38.496553Z","updated_at":"2025-12-11T20:42:24.144839Z","closed_at":"2025-12-11T20:42:24.144839Z","blocks":[],"blocked_by":[]}
{"id":"y1-qr09","title":"Remove regex dependency","description":"Why: Single usage in reader.rs, adds ~500KB to binary. Done when: Replaced with simple string search, Cargo.toml updated, tests pass.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-18T15:20:00.264300Z","updated_at":"2025-12-18T15:29:06.488828Z","closed_at":"2025-12-18T15:29:06.488828Z","blocks":[],"blocked_by":[]}
{"id":"y1-qujj","title":"Fix clippy warnings (doc comment style)","description":"Why: 4 clippy warnings about empty lines after doc comments. Done when: Module-level /// comments converted to //! inner doc comments in bd.rs, claude.rs, decision.rs, evaluate.rs.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-17T00:33:55.455997Z","updated_at":"2025-12-17T00:41:24.651252Z","closed_at":"2025-12-17T00:41:24.651252Z","blocks":[],"blocked_by":[]}
{"id":"y1-r7cm","title":"Add optional Open Horizons integration to superego","description":"Why: Enable higher-level coordination by logging superego decisions to OH endeavors. Done when: sg detects OH availability, discovers relevant endeavor via LLM matching, and logs decisions there. Notes: Direct API approach (not MCP client), graceful degradation when OH unavailable.","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-21T10:56:56.900351Z","updated_at":"2025-12-21T11:22:42.188442Z","closed_at":"2025-12-21T11:22:42.188442Z","blocks":[],"blocked_by":["y1-fe9f"]}
{"id":"y1-rq41","title":"Implement model selection config","description":"Why: Users may want faster/cheaper model for superego. Done when: .superego/config.yaml supports model setting, defaults to Claude Code default, sg evaluate uses configured model.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:35:12.742893Z","updated_at":"2025-12-12T20:44:24.180678Z","closed_at":"2025-12-12T20:44:24.180678Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-rs6s","title":"Implement async evaluation via Stop hook","description":"Why: Evaluate while user types, not blocking on submit. Done when: Stop hook triggers sg evaluate in background, has-feedback/get-feedback commands work, UserPromptSubmit checks and surfaces feedback. Architecture: Stop→evaluate(async)→feedback queue→UserPromptSubmit checks→block if feedback.","status":"closed","priority":0,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-11T20:28:32.891626Z","updated_at":"2025-12-11T20:38:36.613508Z","closed_at":"2025-12-11T20:38:36.613508Z","blocks":[],"blocked_by":[]}
{"id":"y1-t62e","title":"Implement sg evaluate command (UserPromptSubmit)","description":"Why: Infer phase from user message, cache to state.json. Done when: Reads transcript + new user message, calls superego LLM, writes phase to .superego/state.json. Called by UserPromptSubmit hook.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:08:44.738794Z","updated_at":"2025-12-11T18:35:41.396155Z","closed_at":"2025-12-11T18:35:41.396155Z","blocks":["y1-6qlp"],"blocked_by":["y1-yhfk","y1-jge3","y1-kki8","y1-b422","y1-xsww","y1-a3z5"]}
{"id":"y1-tvb0","title":"Fix pre-tool-use hook PHASE reference","description":"Why: Hook still checks for PHASE in sg check output, but phase was removed. Done when: Hook updated to not reference phase, just uses decision/reason.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-11T21:05:44.423958Z","updated_at":"2025-12-11T21:24:31.711952Z","closed_at":"2025-12-11T21:24:31.711952Z","blocks":[],"blocked_by":[]}
{"id":"y1-tyzq","title":"Implement retro.rs default mode","description":"Why: Generate HTML from all decisions without LLM. Done when: decisions_to_moments and generate_html work, HTML opens in browser.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T00:01:52.145454Z","updated_at":"2025-12-24T00:13:15.531506Z","closed_at":"2025-12-24T00:13:15.531506Z","blocks":["y1-360u"],"blocked_by":["y1-chah"]}
{"id":"y1-viso","title":"Add --push-oh flag to sg retro","description":"Why: Push retrospective data to OH for cross-project visibility. Done when: sg retro --push-oh posts to /api/logs with structured metadata.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-24T09:19:15.587502Z","updated_at":"2025-12-24T09:54:40.021993Z","closed_at":"2025-12-24T09:54:40.021993Z","blocks":[],"blocked_by":["y1-djwr","y1-dhgr","y1-bl7t"]}
{"id":"y1-wd16","title":"Implement PreCompact hook for state preservation","description":"Why: When Claude compacts context, transcript is truncated. Superego must update its tracking before compaction. Done when: PreCompact hook calls sg precompact, which reads full transcript and writes summary decision to journal capturing current understanding (phase, scope, key decisions).","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:34:21.804800Z","updated_at":"2025-12-11T21:59:32.409386Z","closed_at":"2025-12-11T21:59:32.409386Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-whm8","title":"Add sg audit command","description":"Add audit command that reports summary statistics of superego decisions across all sessions. Includes --json flag for programmatic output.","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-17T21:38:55.657693Z","updated_at":"2025-12-17T22:22:12.372678Z","closed_at":"2025-12-17T22:22:12.372678Z","blocks":[],"blocked_by":[]}
{"id":"y1-wsbs","title":"Remove wm integration from superego hooks","description":"Why: wm is a separate tool, sg hooks shouldn't call it. Done when: sg's stop hook no longer calls 'wm extract &'. Check plugin/scripts/ for the hook that triggers wm.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2026-01-03T16:02:11.798360Z","updated_at":"2026-01-03T16:04:44.120628Z","closed_at":"2026-01-03T16:04:44.120628Z","blocks":[],"blocked_by":[]}
{"id":"y1-wva2","title":"Implement recursion prevention","description":"Why: Superego's Claude session must not trigger hooks that call superego. Done when: Hooks detect .superego/ in transcript path and skip, or use session ID filtering.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:14:38.247985Z","updated_at":"2025-12-11T21:49:00.601179Z","closed_at":"2025-12-11T21:49:00.601179Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-wvq9","title":"Phase 2: Daemon core (poll loop)","description":"Why: Background evaluation. Done when: Daemon runs, polls sessions, triggers eval, writes feedback.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-16T21:19:16.546219Z","updated_at":"2025-12-16T21:25:22.170827Z","closed_at":"2025-12-16T21:25:22.170827Z","blocks":["y1-ldim"],"blocked_by":["y1-jyxb"]}
{"id":"y1-wy5m","title":"Fix sg history to show all decisions","description":"Why: history command only reads empty base dir, misses all session decisions. Done when: sg history uses read_all_sessions().","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-18T14:00:37.098632Z","updated_at":"2025-12-18T14:02:24.240179Z","closed_at":"2025-12-18T14:02:24.240179Z","blocks":[],"blocked_by":[]}
{"id":"y1-x36h","title":"Add timeout to Claude CLI invocation","description":"Why: If Claude hangs, hooks block indefinitely. Done when: Configurable timeout (config.yaml timeout_ms) is implemented in claude.rs invoke(). See src/claude.rs:109.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-17T00:33:43.679500Z","updated_at":"2025-12-17T00:39:55.524658Z","closed_at":"2025-12-17T00:39:55.524658Z","blocks":[],"blocked_by":[]}
{"id":"y1-xl10","title":"Implement sg reset command","description":"Why: Recovery from corrupted state. Done when: Clears state.json, optionally clears session/, preserves decisions/ journal.","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:23:36.991851Z","updated_at":"2025-12-12T20:44:34.650526Z","closed_at":"2025-12-12T20:44:34.650526Z","blocks":[],"blocked_by":["y1-yhfk"]}
{"id":"y1-xsww","title":"Implement failure handling for sg evaluate","description":"Why: LLM calls can fail/timeout. Done when: Timeout handling, fallback to safe default (EXPLORING), error logging, user notification on repeated failures.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:15:15.971888Z","updated_at":"2025-12-11T18:35:46.531740Z","closed_at":"2025-12-11T18:35:46.531740Z","blocks":["y1-t62e"],"blocked_by":["y1-yhfk"]}
{"id":"y1-xupc","title":"Migrate from deprecated serde_yaml","description":"Why: serde_yaml is deprecated (shows +deprecated in cargo output). Done when: Either migrated to serde_yml, or evaluated if YAML needed at all (only used for config.yaml and decision journal - could use JSON).","status":"closed","priority":2,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-17T00:34:19.273317Z","updated_at":"2025-12-17T00:45:07.911582Z","closed_at":"2025-12-17T00:45:07.911582Z","blocks":[],"blocked_by":[]}
{"id":"y1-y2i2","title":"Harmonize superego system with feedback-first flow","description":"Why: System evolved from phase-gating to rich feedback. Done when: Remove Phase enum, simplify state.rs, clean up decision.rs, evaluate.rs uses new prompt, hooks deliver feedback, claude.rs handles natural language response. Single coherent flow: Stop→LLM evaluate→feedback queue→UserPromptSubmit→inject to Claude.","status":"closed","priority":0,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T20:53:55.726689Z","updated_at":"2025-12-11T21:06:16.861892Z","closed_at":"2025-12-11T21:06:16.861892Z","blocks":[],"blocked_by":["y1-oqx2","y1-q2a8","y1-khvb"]}
{"id":"y1-y9jb","title":"Enhance sg context with OH endeavor data","description":"Why: Bidirectional OH integration - sg currently logs TO OH but doesn't read FROM it. Done when: sg can fetch endeavor details and recent logs to enhance evaluation context, allowing superego to evaluate work against strategic goals.","status":"closed","priority":2,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-21T11:38:07.640579Z","updated_at":"2025-12-21T11:56:44.896989Z","closed_at":"2025-12-21T11:56:44.896989Z","blocks":[],"blocked_by":[]}
{"id":"y1-yc59","title":"Document should-eval exit code contract","description":"Why: Shell script relies on exit 0=yes, 1=no but this is only implicit in code. Done when: CLI help text or CLAUDE.md documents the contract.","status":"closed","priority":4,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-22T13:45:41.973705Z","updated_at":"2025-12-22T14:22:32.242794Z","closed_at":"2025-12-22T14:22:32.242794Z","blocks":[],"blocked_by":[]}
{"id":"y1-yfim","title":"Ensure rich superego feedback reaches Claude","description":"Why: Superego is a metacognitive advisor - feedback must actually steer Claude's behavior. Done when: Feedback is injected as context Claude sees, Claude acknowledges/incorporates feedback in its responses, feedback covers approach/alignment not just write gating.","status":"closed","priority":1,"issue_type":"feature","labels":[],"comments":[],"created_at":"2025-12-11T20:41:49.373698Z","updated_at":"2025-12-12T20:44:13.721651Z","closed_at":"2025-12-12T20:44:13.721651Z","blocks":[],"blocked_by":[]}
{"id":"y1-yhfk","title":"Scaffold Rust CLI project with clap","description":"Why: Foundation for all sg commands. Done when: cargo new + clap dependency + basic sg --help works.","status":"closed","priority":0,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:46:00.664042Z","updated_at":"2025-12-11T18:10:35.610639Z","closed_at":"2025-12-11T18:10:35.610639Z","blocks":["y1-wva2","y1-b422","y1-rq41","y1-o72g","y1-xsww","y1-nu26","y1-m5ne","y1-a3z5","y1-q9zc","y1-b391","y1-xl10","y1-cb59","y1-elf5","y1-kki8","y1-m58y","y1-wd16","y1-jge3","y1-fvwu","y1-zwb7","y1-t62e","y1-7mmj"],"blocked_by":[]}
{"id":"y1-ym76","title":"Add timeout to OH HTTP requests","description":"Why: HTTP calls without timeout can block hook path if OH server hangs. Done when: All attohttpc calls have explicit timeout (5s default).","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-21T11:33:38.808972Z","updated_at":"2025-12-21T12:05:28.085546Z","closed_at":"2025-12-21T12:05:28.085546Z","blocks":[],"blocked_by":[]}
{"id":"y1-yps7","title":"Investigate cost/usage metadata from Claude calls","description":"Why: Users should see superego's LLM usage. Done when: Investigated if Claude CLI exposes token counts/cost, implemented usage tracking if available.","status":"closed","priority":3,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T17:35:39.078714Z","updated_at":"2025-12-12T20:45:27.425445Z","closed_at":"2025-12-12T20:45:27.425445Z","blocks":[],"blocked_by":["y1-jge3"]}
{"id":"y1-zdb2","title":"Use full model identifier in audit.rs","description":"PR feedback: Line 111 uses bare 'haiku' string which is incorrect. Should use 'claude-haiku-4-5-20251001' or at minimum 'claude-haiku-4-5' for proper model identification.","status":"closed","priority":1,"issue_type":"bug","labels":[],"comments":[],"created_at":"2025-12-17T22:34:24.830998Z","updated_at":"2025-12-17T22:35:34.954496Z","closed_at":"2025-12-17T22:35:34.954496Z","blocks":[],"blocked_by":[]}
{"id":"y1-zwb7","title":"Design superego system prompt","description":"Why: Defines superego's personality and evaluation criteria. Done when: prompt.md template exists, covers: phase detection, unknown tracking, JSON output format. IMPORTANT: If first message is ambiguous (e.g. 'fix the bug'), superego should indicate opportunity for Claude to clarify scope before proceeding.","status":"closed","priority":1,"issue_type":"task","labels":[],"comments":[],"created_at":"2025-12-11T16:56:15.728032Z","updated_at":"2025-12-11T18:07:50.535159Z","closed_at":"2025-12-11T18:07:50.535159Z","blocks":[],"blocked_by":["y1-yhfk"]}
